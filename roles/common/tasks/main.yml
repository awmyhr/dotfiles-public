#===============================================================================
# Project:   awmyhr DotFiles (Public)
# Author:    Myhr, Andy
# Revised:   2017-03-27
# Created:   2017-03-23
# Copyright: 2017, awmyhr
# License:   Apache-2.0
# Based on:  https://gist.github.com/hongqn/62d528116eb5a4a9e4b7
#===============================================================================
---
- name: Ensure ssh public key.
  authorized_key: 
    user: "{{ ansible_user }}" 
    key: "{{ lookup('file', localkeyfile) }}"
    state: present
    exclusive: no
    manage_dir: yes

- name: Verify directories.
  file: path={{ item }} state=directory mode=0755
  with_items:
    - ~/bin
    - ~/etc
    - ~/lib
    - ~/man
    - ~/projects
    - ~/share
    - ~/store
    - ~/tmp
    - ~/var
    - ~/var/log
    - ~/work
